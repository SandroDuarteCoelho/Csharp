using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Matriz
{
    class Program
    {
        static void Main(string[] args)
        {
            // Array bidimensional (tem duas dimensões)
            /*
            int[,] matriz = new int[2, 3];
            matriz[0, 0] = 5;
            matriz[1, 2] = 10;

            Console.WriteLine("\nInsira valores inteiros:  ");
            for (int i = 0; i < 2; i++)
                for (int j = 0; j < 3; j++)
                    matriz[i, j] = int.Parse(Console.ReadLine());
            // Mostra como pode obter as dimensões do array
            int n1, n2;
            n1 = matriz.GetLength(0);
            n2 = matriz.GetLength(1);
            Console.WriteLine("\nDimensão 1 = {0} e Dimensão 2 = {1}", n1, n2);

            for (int i = 0; i < matriz.GetLength(0); i++)
            {
                for (int j = 0; j < matriz.GetLength(1); j++)
                    Console.Write(matriz[i, j] + " ");
                Console.WriteLine();
            }
            */
            // Labirinto exemplo
            string[,] labirinto = new string[20,30]
            {
                {"*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*"},
                {" "," "," ","*","*"," "," "," "," ","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*"},
                {"*","*"," ","*","*"," ","*","*"," ","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*"},
                {"*","*"," ","*","*"," ","*","*"," ","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*"},
                {"*","*"," "," "," "," ","*","*"," ","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*"},
                {"*","*"," ","*","*","*","*","*"," ","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*"},
                {"*"," "," ","*","*","*","*","*"," ","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","F"},
                {"*"," ","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*"},
                {"*"," ","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*"},
                {"*"," ","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*"},
                {"*"," ","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*"},
                {"*"," "," ","*","*"," "," "," "," ","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*"},
                {"*","*"," ","*","*"," ","*","*"," ","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*"},
                {"*","*"," ","*","*"," ","*","*"," ","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*"},
                {"*","*"," "," "," "," ","*","*"," ","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*"},
                {"*","*","*","*","*","*","*","*"," ","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*"},
                {"*","*","*","*","*","*","*","*"," ","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*"},
                {"*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*"},
                {"*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*"},
                {"*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*"}
            };

            string jog = "\x01";
            labirinto[1, 0] = jog;
            // setas de direção
            // 37 - esquerda
            // 38 - cima
            // 39 - direita
            // 40 - baixo

            bool sair = false;
            int dir;
            int l = 1, c = 0;



            while (sair==false)
            {
                Console.Clear();
                // Mostra o futuro labirinto
                for (int i = 0; i < labirinto.GetLength(0); i++)
                {
                    for (int j = 0; j < labirinto.GetLength(1); j++)
                        Console.Write(labirinto[i, j]);
                    Console.WriteLine();
                }

                Console.WriteLine("\nUse as setas de deslocamento:");
                dir = Convert.ToInt32(Console.ReadKey().Key);
                if (dir==39) // desloca para a direita
                {
                    if (labirinto[l, c + 1] == " ")
                    {
                        labirinto[l, c] = " ";
                        labirinto[l, ++c] = jog;
                    }
                    else
                        if (labirinto[l, c + 1] == "F")
                            sair = true;


                }

                if (dir == 40) // desloca para baixo
                {
                    if (labirinto[l+1, c] == " ")
                    {
                        labirinto[l, c] = " ";
                        labirinto[++l, c] = jog;
                    }
                }

                if (dir == 38) // desloca para cima
                {
                    if (labirinto[l - 1, c] == " ")
                    {
                        labirinto[l, c] = " ";
                        labirinto[--l, c] = jog;
                    }
                }

                if (dir == 37) // desloca para esquerda
                {
                    if (labirinto[l, c - 1] == " ")
                    {
                        labirinto[l, c] = " ";
                        labirinto[l, --c] = jog;
                    }
                }
                
            }
           
            Console.WriteLine("\n\n\t\tPARABENS, GANHOU!!");
            Console.ReadKey();

        }
    }
}

